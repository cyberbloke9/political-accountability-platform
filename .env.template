# Political Accountability Platform - Environment Variables Template
# Copy this file to .env and fill in your actual values

# =============================================================================
# FRONTEND ENVIRONMENT VARIABLES (Vercel)
# =============================================================================

# Backend API URL (will be provided after deploying backend to Railway)
NEXT_PUBLIC_API_URL=https://your-backend-name.railway.app/api/v1

# Frontend public URL (will be provided by Vercel after deployment)
NEXT_PUBLIC_APP_URL=https://your-app-name.vercel.app

# Optional: Cloudflare R2 public CDN URL for serving images
NEXT_PUBLIC_CLOUDFLARE_R2_PUBLIC_URL=https://your-bucket-name.r2.cloudflarestorage.com

# Optional: Sentry DSN for error tracking
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Optional: Analytics ID (Simple Analytics, Plausible, etc.)
NEXT_PUBLIC_ANALYTICS_ID=your-analytics-id

# =============================================================================
# BACKEND ENVIRONMENT VARIABLES (Railway)
# =============================================================================

# Database connection (provided automatically by Railway when you add PostgreSQL)
DATABASE_URL=postgresql://user:password@host:5432/database_name

# Node environment
NODE_ENV=production

# Server port (Railway sets this automatically, but 3000 is default for local dev)
PORT=3000

# JWT Secrets (MUST BE CHANGED - Generate with: openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-access-token-key-minimum-32-characters-please
JWT_REFRESH_SECRET=your-super-secret-jwt-refresh-token-key-minimum-32-characters-please

# JWT Token Expiry
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# CORS Configuration (Your Vercel frontend URL)
CORS_ORIGIN=https://your-app-name.vercel.app

# =============================================================================
# EMAIL SERVICE (SendGrid)
# =============================================================================
# Sign up: https://sendgrid.com (Free tier: 100 emails/day)
# Get API key: Settings → API Keys → Create API Key

SENDGRID_API_KEY=SG.your-sendgrid-api-key-here
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=Political Accountability Platform

# =============================================================================
# CLOUDFLARE R2 STORAGE (for evidence images/videos)
# =============================================================================
# Sign up: https://dash.cloudflare.com → R2 → Create Bucket
# Get credentials: R2 → Manage R2 API Tokens → Create API Token

R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=political-accountability-evidence
R2_PUBLIC_URL=https://your-bucket-name.r2.cloudflarestorage.com

# =============================================================================
# GOOGLE CLOUD VISION API (Fraud Detection - Reverse Image Search)
# =============================================================================
# Sign up: https://console.cloud.google.com
# Enable: Cloud Vision API
# Get key: APIs & Services → Credentials → Create API Key

GOOGLE_CLOUD_PROJECT_ID=your-google-cloud-project-id
GOOGLE_CLOUD_VISION_API_KEY=AIzaSy-your-vision-api-key-here

# Or use service account JSON (more secure):
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# =============================================================================
# OPTIONAL: ERROR TRACKING & MONITORING
# =============================================================================

# Sentry (sign up: https://sentry.io - Free tier: 5K errors/month)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# OPTIONAL: RATE LIMITING
# =============================================================================

# Requests per window
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Authentication endpoints rate limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# =============================================================================
# OPTIONAL: SESSION CONFIGURATION
# =============================================================================

# Session secret for cookie signing
SESSION_SECRET=your-session-secret-minimum-32-characters-for-security

# =============================================================================
# DEVELOPMENT ONLY (DO NOT USE IN PRODUCTION)
# =============================================================================

# For local development, you can use simpler values:
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/political_accountability_dev
# JWT_SECRET=dev-secret-key-not-for-production
# JWT_REFRESH_SECRET=dev-refresh-secret-not-for-production
# CORS_ORIGIN=http://localhost:3000
# SENDGRID_API_KEY=test-mode-no-real-emails-sent
# R2_* = Use local file storage instead
# GOOGLE_CLOUD_VISION_API_KEY=skip-for-dev (mock responses)

# =============================================================================
# NOTES
# =============================================================================
#
# 1. SECURITY: Never commit this file with real values to Git
#    - Add .env to .gitignore (already done)
#    - Use different secrets for dev/staging/production
#
# 2. GENERATING SECRETS:
#    - JWT secrets: openssl rand -base64 32
#    - Session secrets: openssl rand -hex 32
#
# 3. MINIMUM REQUIREMENTS FOR MVP:
#    - DATABASE_URL (from Railway PostgreSQL)
#    - JWT_SECRET & JWT_REFRESH_SECRET (generate your own)
#    - CORS_ORIGIN (your Vercel frontend URL)
#    - SENDGRID_API_KEY (for email verification)
#
# 4. CAN SKIP INITIALLY (add later):
#    - Cloudflare R2 (use local storage for dev)
#    - Google Vision API (disable fraud detection temporarily)
#    - Sentry (add after initial launch)
#
# 5. DEPLOYMENT CHECKLIST:
#    [ ] All secrets changed from defaults
#    [ ] CORS_ORIGIN set to production frontend URL
#    [ ] JWT secrets are 32+ characters
#    [ ] DATABASE_URL points to production database
#    [ ] SendGrid API key is valid and tested
#    [ ] R2 bucket exists and is accessible
#    [ ] Google Vision API is enabled and key is valid
#
# =============================================================================
